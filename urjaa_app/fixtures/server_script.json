[
 {
  "allow_guest": 0,
  "api_method": "Conatiner_No",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.992998",
  "module": "Urjaa",
  "name": "Auto Crate Container",
  "reference_doctype": null,
  "script": "item_code = frappe.form_dict[\"Item_Code\"]\nContainer_No = frappe.form_dict[\"Container_No\"]\nQty = frappe.form_dict[\"Qty\"]\n\n\ndata = frappe.new_doc(\"Container Details\")\ndata.item_code = item_code\ndata.container_no = Container_No\ndata.qty = Qty\n \n\ndata.save()\ndata.submit()\n    \nfrappe.db.commit()",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "fatch_data",
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.944456",
  "module": "Urjaa",
  "name": "Get Data In Container & Set In Delivery note Chid Enabled",
  "reference_doctype": null,
  "script": "item = frappe.form_dict[\"item\"]\ncon = frappe.form_dict[\"con\"]\n\ndata = frappe.db.sql(\"\"\" select qty from `tabContainer Details` where item_code=%s and container_no=%s \"\"\",(item,con))\n\nlist1=\"\"\nfor i in data:\n    for j in i:\n        if list1==\"\":\n            list1=j\n\n\nfrappe.response[\"massge\"]=list1",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "set value",
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.957511",
  "module": "Urjaa",
  "name": "Set Value In Container On Deliver note Submit",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"con_qty\"]\nb = frappe.form_dict[\"item\"]\nc = frappe.form_dict[\"conn\"]\n\nd = frappe.db.sql(\"\"\"select name from `tabContainer Details` where item_code = %s and container_no = %s\"\"\",(b,c))\nlist1=\"\"\nfor i in d:\n    for j in i:\n        if list1==\"\":\n            list1=j\ne = str(list1)\n\nfrappe.db.set_value(\"Container Details\", e, \"qty\", a)",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "custom duty",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.792537",
  "module": "Urjaa",
  "name": "Custom Duty Link With Purchase Invoice Enabled",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"no\"]\n\nall_items = frappe.db.sql(\"\"\" select item_template,item_code,qty,rate,amount,approx_costing from `tabCustom Duty Child` where parent=%s \"\"\",a)\n\nfrappe.response[\"all_items\"]=all_items\n\n\n",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "user_number",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.982370",
  "module": "Urjaa",
  "name": "User Number",
  "reference_doctype": null,
  "script": "user=frappe.form_dict[\"user_number\"]\n\nd=frappe.db.sql(\"\"\"select phone from `tabUser` where email=%s\"\"\",user)\nlist1 = \"\"            \nfor i in d:\n     for j in i:\n         if list1==\"\":\n             list1=j\n            \n\ninfo1=(int(list1))\nfrappe.response[\"message\"]=info1",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "get data in custom duty",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.743115",
  "module": "Urjaa",
  "name": "Auto Fatch Data From Purchase Order To Custom Duty",
  "reference_doctype": null,
  "script": "name=frappe.form_dict[\"name\"]\n\ndata=frappe.db.sql(\"select item_code from `tabPurchase Order Item` where parent=%s\", name)\n\nlist1=[]\nfor i in data:\n    for j in i:\n        list1.append(j)\n\ndata2 = ()\nfor a in list1:\n    data1= frappe.db.sql(\"select name,variant_of from `tabItem` where variant_of=%s\", a)\n    data2 = data1 + data2\nfrappe.response[\"data1\"]=data2\n           ",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "dataset",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.970811",
  "module": "Urjaa",
  "name": "Auto Create Box Trackin form On purchase Receipt Save",
  "reference_doctype": null,
  "script": "sname = frappe.form_dict[\"piname\"]\nsu_name = frappe.form_dict[\"s_name\"]\nprname = frappe.form_dict[\"prname\"]\n\n\ndata = frappe.new_doc(\"Custom Box Tracking\")\ndata.purchase_invoice_no = sname\ndata.purchase_receipt_no = prname\ndata.suppler = su_name\n  \ndata.save()\n\ndoc= frappe.get_doc('Purchase Receipt', prname)\n\n\nfor task in doc.items:\n    a= task.item_code\n    \n    c=task.box_no\n    d=task.qty\n    \n    project = frappe.get_doc('Custom Box Tracking', data.name)\n    \n    project.append('items', {\n        'item_code':a,\n        'lot_no':task.lot_no,\n        'box_no':c,\n        'qty':d\n    })\n    \n    project.save()\n    frappe.db.commit()\n\n",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "get data",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.894413",
  "module": "Urjaa",
  "name": "Delivery note fatch box no wise qty & Lot No",
  "reference_doctype": null,
  "script": "box_no = frappe.form_dict[\"box\"]\n\ndata = frappe.db.sql(\"\"\"  select qty from `tabCustom Box Item` where name=%s \"\"\",box_no)\ndata2 = frappe.db.sql(\"\"\" select item_code from `tabCustom Box Item` where name=%s \"\"\",box_no)\nlot_no = frappe.db.sql(\"\"\" select lot_no from `tabCustom Box Item` where name=%s \"\"\", box_no)\nbox_no = frappe.db.sql(\"\"\" select box_no from `tabCustom Box Item` where name=%s \"\"\", box_no)\n\n\ndata1 = \"\"\nfor i in data:\n    for j in i:\n        if data1 == \"\":\n            data1 = j\n            \ndata3 = \"\"\nfor m in data2:\n    for n in m:\n        if data3 == \"\":\n            data3 = n;\n            \nlot_no1 = \"\"\nfor k in lot_no:\n    for l in k:\n        if lot_no1 == \"\":\n            lot_no1 = l\n            \n            \nbox_no1 = \"\"\nfor o in box_no:\n    for p in o:\n        if box_no1 == \"\":\n            box_no1 = p\n        \n            \na = str(data1)\nfrappe.response[\"qty\"]=a\nfrappe.response[\"box_no\"]=box_no1\nfrappe.response[\"item\"]=data3\nfrappe.response[\"lotno\"]=lot_no1",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "changvalue",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.934268",
  "module": "Urjaa",
  "name": "Set Qty On Deliver Note Save in Custom  Box Doctype",
  "reference_doctype": null,
  "script": "box  = frappe.form_dict[\"box\"]\n\nc = box.split(\"\\n\")\na = len(c)\nb = str(a)\n\n\ndata = 0\nfor i in c:\n    frappe.db.set_value(\"Custom Box Item\", i, \"qty\", data)",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "panding qty",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.809446",
  "module": "Urjaa",
  "name": "pending qty change",
  "reference_doctype": null,
  "script": "pono = frappe.form_dict[\"pono\"]\nitem = frappe.form_dict[\"item\"]\nqty = frappe.form_dict[\"qty\"]\n\nname = frappe.db.sql(\"\"\" select name from `tabPurchase Order Item` where parent=%s and item_code=%s \"\"\",(pono,item))\nqty1 = frappe.db.sql(\"\"\" select qty from `tabPurchase Order Item` where parent=%s and item_code=%s \"\"\",(pono,item))\npan_qty = frappe.db.sql(\"\"\" select pending_qty from `tabPurchase Order Item` where parent=%s and item_code=%s \"\"\",(pono,item))\n\nname1 = \"\"\nfor i in name:\n    for j  in i:\n        if name1 == \"\":\n            name1 = j\n            \nqty2 = 0.0\nfor a in qty1:\n    for b in a:\n        if qty2 == 0.0:\n            qty2 = b\n            \npan_qty1 = 0.0\nfor p in pan_qty:\n    for q in p:\n        if pan_qty1 == 0.0:\n            pan_qty1 = q\n            \n        \nif pan_qty1 == 0.0:\n    a = float(qty)\n    frappe.msgprint(a)\n    frappe.msgprint(qty2)\n    data = qty2 - a  \n    frappe.msgprint(data)\n    \n    frappe.db.set_value(\"Purchase Order Item\", name1, \"pending_qty\", data)\n    \nelse:\n    a = float(qty)\n    data = pan_qty1 - a\n    frappe.db.set_value(\"Purchase Order Item\", name1, \"pending_qty\", data)\n \n\n\n",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "get port data",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.921270",
  "module": "Urjaa",
  "name": "Get Data In Port wise In custom Duty Form",
  "reference_doctype": null,
  "script": "name = frappe.form_dict[\"name\"]\n\ns_line = frappe.db.sql(\"\"\" select s_line from `tabPort Name` where name=%s \"\"\",name)\ncha = frappe.db.sql(\"\"\" select cha from `tabPort Name` where name=%s \"\"\",name)\ncfs = frappe.db.sql(\"\"\" select cfs from `tabPort Name` where name=%s \"\"\",name)\ntpt = frappe.db.sql(\"\"\" select tpt from `tabPort Name` where name=%s \"\"\",name)\n\n\ns_line1 = \"\"\nfor a in s_line:\n    for b in a:\n        if s_line1 == \"\":\n            s_line1 = b\n            \ncha1 = \"\"\nfor c in cha:\n    for d in c:\n        if cha1 == \"\":\n            cha1 = d\n            \ncfs1 = \"\"\nfor f in cfs:\n    for e in f:\n        if cfs1 == \"\":\n            cfs1 = e\n            \n            \ntpt1 = \"\"\nfor g in tpt:\n    for h in g:\n        if tpt1 == \"\":\n            tpt1 = h\n            \n            \nfrappe.response[\"s_line\"]=s_line1\nfrappe.response[\"cha\"]=cha1\nfrappe.response[\"cfs\"]=cfs1\nfrappe.response[\"tpt\"]=tpt1",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "purchase Filter",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.908654",
  "module": "Urjaa",
  "name": "Apply Filter In Custom Duty From as Template Base on P.O.",
  "reference_doctype": null,
  "script": "a = frappe.form_dict[\"no\"]\ritem = frappe.db.sql(\"\"\" select item_code from `tabPurchase Order Item` where parent=%s \"\"\",a)\ritem1 = \"\"\rfor i in item:\r    for j in i:\r        if item1 == \"\":\r            item1 = j\r        else:\r            item1 = item1 + \",\" + j\r            \rfrappe.response[\"item\"]=item1",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "Gat Grade",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.776322",
  "module": "Urjaa",
  "name": "Fatch Grade And Back On Purchase Order",
  "reference_doctype": null,
  "script": "name=frappe.form_dict[\"name\"]\n\ndata=frappe.db.sql(\"select item_code from `tabPurchase Order Item` where parent=%s\", name)\n\nlist1=[]\nfor i in data:\n    for j in i:\n        list1.append(j)\n\ndata2 = ()\nfor a in list1:\n    data1= frappe.db.sql(\"select name,variant_of from `tabItem` where variant_of=%s\", a)\n    data2 = data1 + data2\nfrappe.response[\"data1\"]=data2",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "auto make doctye",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.884409",
  "module": "Urjaa",
  "name": "Auto crate Doctype as box tracking In Purchase Yarn",
  "reference_doctype": null,
  "script": "pino = frappe.form_dict['pi']\nsupp = frappe.form_dict['suppl']\ntottal_qty = frappe.form_dict[\"total_qty\"]\n\n\ndata = frappe.new_doc(\"Local Box Tracking\")\ndata.purchase_invoice_no = pino\ndata.suppler = supp\ndata.total_qty = tottal_qty\n  \ndata.save()\n\ndoc= frappe.get_doc('Purchase Invoice', pino)\n\n\nfor task in doc.items:\n    a= task.item_code\n    c=task.box\n    d=task.qty\n    \n    project = frappe.get_doc('Local Box Tracking', data.name)\n    \n    project.append('items', {\n        'item_name':a,\n        'box':c,\n        'qty':d\n    })\n    \n    project.save()\n    frappe.db.commit()",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "get data as rate",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.872782",
  "module": "Urjaa",
  "name": "Get Grade wise rate Base On P.O. And Filter Appliy",
  "reference_doctype": null,
  "script": "name  = frappe.form_dict['name']\nall_items = frappe.db.sql(\"\"\"  select item_template,item_grade,rate from `tabGrade Wise Rate Purchase Item` where parent=%s\"\"\",name)\nfrappe.response['all_items']=all_items",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "get grade in sales",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.758466",
  "module": "Urjaa",
  "name": "Get Grade And Set Rate And Back On S.O.",
  "reference_doctype": null,
  "script": "name=frappe.form_dict[\"name\"]\n\ndata=frappe.db.sql(\"select item_code from `tabSales Order Item` where parent=%s\", name)\n\nlist1=[]\nfor i in data:\n    for j in i:\n        list1.append(j)\n\ndata2 = ()\nfor a in list1:\n    data1= frappe.db.sql(\"select name,variant_of from `tabItem` where variant_of=%s\", a)\n    data2 = data1 + data2\nfrappe.response[\"data1\"]=data2",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "get data in delivery",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.860791",
  "module": "Urjaa",
  "name": "Get Grade Wise Rate And All Grade Base On Sales Order",
  "reference_doctype": null,
  "script": "name  = frappe.form_dict['name']\n\n\nall_item = frappe.db.sql(\"\"\"  select item_template,item_grade,rate from `tabGrade Wise Rate Sales Item` where parent=%s\"\"\",name)\n\nfrappe.response[\"all_item\"]=all_item",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "get box and qty in pi",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.849673",
  "module": "Urjaa",
  "name": "Get grade wise box and qty base on P. I. No",
  "reference_doctype": null,
  "script": "pino = frappe.form_dict['pino']\n\nitem_code = frappe.db.sql(\" select item_name  from `tabLocal Box Tracking Item` where parent=%s \",pino)\nbox = frappe.db.sql(\" select box from `tabLocal Box Tracking Item` where parent=%s \",pino)\nqty = frappe.db.sql(\" select qty from `tabLocal Box Tracking Item` where parent=%s \",pino)\n\nitem_code1 =\"\"\nfor i in item_code:\n    for j in i:\n        if item_code1 == \"\":\n            item_code1 = j\n        else:\n            item_code1 = item_code1 + \",\" + j\n            \n            \nbox1 =\"\"\nfor a in box:\n    for b in a:\n        if box1 == \"\":\n            box1 = b\n        else:\n            box1 = f'{ box1}{\",\"}{ b}'\n            \nqty1 =\"\"\nfor c in qty:\n    for d in c:\n        if qty1 == \"\":\n            qty1 = d\n        else:\n            qty1 = f'{ qty1}{\",\"}{d}'\n            \n            \n            \nfrappe.response['item_code']=item_code1\nfrappe.response['box']=box1\nfrappe.response['qty']=qty1",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "validation box",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.837531",
  "module": "Urjaa",
  "name": "Box And Qty Validation On PI in Delivery Note",
  "reference_doctype": null,
  "script": "pi = frappe.form_dict['pi']\nitem = frappe.form_dict['item']\n\n\n\nbox = frappe.db.sql(\" select box from `tabLocal Box Tracking Item` where parent=%s and item_name=%s \",(pi,item))\nqty = frappe.db.sql(\" select qty from `tabLocal Box Tracking Item` where parent=%s and item_name=%s \",(pi,item))\n\n\nbox1 = \"\"\nfor i in box:\n    for j in i:\n        if box1 == \"\":\n            box1 = j\n            \nqty1 = \"\"\n\nfor m in qty:\n    for n in m:\n        if qty1 == \"\":\n            qty1 = n\n            \nfrappe.response['box']=box1\nfrappe.response[\"qty\"]=qty1",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "changvalueinlocalflow",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.823633",
  "module": "Urjaa",
  "name": "Delivery Not Base Qty Box And Total Qty Change In local box tracking",
  "reference_doctype": null,
  "script": "pi = frappe.form_dict['pi']\nbox = frappe.form_dict['box']\nitem = frappe.form_dict['item']\nqty = frappe.form_dict[\"qty\"]\ntotal_qty1 = frappe.form_dict[\"total_qty\"]\n\nname = frappe.db.sql(\" select name from `tabLocal Box Tracking Item` where parent=%s and item_name=%s \",(pi,item))\nbox1 = frappe.db.sql(\" select box from `tabLocal Box Tracking Item` where parent=%s and item_name=%s \",(pi,item))\nqty1 = frappe.db.sql(\" select qty from `tabLocal Box Tracking Item` where parent=%s and item_name=%s \",(pi,item))\ntotal_qty = frappe.db.sql(\" select total_qty from `tabLocal Box Tracking` where name=%s \",pi)\n\na = \"\"\nfor i in box1:\n    for j in i:\n        if a == \"\":\n            a = j\n            \nname1 = \"\"\nfor m in name:\n    for n in m:\n        if name1 == \"\":\n            name1 = n\n            \nqty2 = \"\"\nfor p in qty1:\n    for q in p:\n        if qty2 == \"\":\n            qty2 = q\n            \ntotal_qty_1 = \"\"\nfor x in total_qty:\n    for y in x:\n        if total_qty_1 == \"\":\n            total_qty_1 = y          \n            \nb = int(a)\nc = int(box)\nd = b - c\n\n\n\nqty3 = int(qty2)\nqty4 = int(qty)\n\nqty5 = qty3 - qty4\n\ntotal = int(total_qty1)\ntotal1 = int(total_qty_1)\ntotal3 = total1 - total\n\nif(total3 == 0):\n    frappe.db.set_value(\"Local Box Tracking\", pi, \"total_qty\", total3)\n    frappe.db.set_value(\"Local Box Tracking\", pi, \"docstatus\",2 )\n\nelse:\n    frappe.db.set_value(\"Local Box Tracking\", pi, \"total_qty\", total3)\n\n\nfrappe.db.set_value(\"Local Box Tracking Item\", name1, \"box\", d)\nfrappe.db.set_value(\"Local Box Tracking Item\", name1, \"qty\", qty5)",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": "panding qty in sales order",
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.699443",
  "module": "Urjaa",
  "name": "Panding Qty Chang Base On deliver Note In sales Order",
  "reference_doctype": null,
  "script": "sono = frappe.form_dict[\"sono\"]\nitem = frappe.form_dict[\"item\"]\nqty = frappe.form_dict[\"qty\"]\n\n\nname = frappe.db.sql(\"\"\" select name from `tabSales Order Item` where parent=%s and item_code=%s \"\"\",(sono,item))\nqty1 = frappe.db.sql(\"\"\" select qty from `tabSales Order Item` where parent=%s and item_code=%s \"\"\",(sono,item))\npan_qty = frappe.db.sql(\"\"\" select pending_qty from `tabSales Order Item` where parent=%s and item_code=%s \"\"\",(sono,item))\ntotal_qty = frappe.db.sql(\" select total_qty from `tabSales Order` where name=%s \", sono)\n\nname1 = \"\"\nfor i in name:\n    for j  in i:\n        if name1 == \"\":\n            name1 = j\n            \ntotal_qty1 = 0.0\nfor m in total_qty:\n    for n in m:\n        if total_qty1 == 0.0:\n            total_qty1 = n\n            \nqty2 = 0.0\nfor a in qty1:\n    for b in a:\n        if qty2 == 0.0:\n            qty2 = b\n            \npan_qty1 = 0.0\nfor p in pan_qty:\n    for q in p:\n        if pan_qty1 == 0.0:\n            pan_qty1 = q\n            \n \nif pan_qty1 == 0.0:\n    a = float(qty)\n    data = qty2 - a\n    \n    frappe.db.set_value(\"Sales Order Item\", name1, \"pending_qty\", data)\n   \n    \n    \nelse:\n    a = float(qty)\n    data = pan_qty1 - a\n    \n    frappe.db.set_value(\"Sales Order Item\", name1, \"pending_qty\", data)\n    \nb = float(qty)   \ntotal1 = total_qty1 - b    \nfrappe.db.set_value(\"Sales Order\", sono, \"total_qty\", total1)\n\n\n\n\nfrappe.msgprint(\"pan qty successful update\")\n",
  "script_type": "API"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Validate",
  "event_frequency": "All",
  "modified": "2023-02-22 15:52:14.732740",
  "module": "Urjaa",
  "name": "Validate Total Qty Base on Purchase Order In Custom Duty Doctype",
  "reference_doctype": "Custom Duty",
  "script": "poname = doc.purchase_order_no\nqty = frappe.db.sql(\" select total_qty from `tabPurchase Order` where name=%s \",poname)\n\nqty1 = 0\nfor i in qty:\n    for j in i:\n        if qty1 == 0:\n            qty1 = j\n\n\nif qty1 >= doc.total_qty:\n    a = doc.purchase_order_no\n   \nelse:\n    qty2 = str(qty1)\n    frappe.throw(_('Please Enter Validate Qty Avable Qty: '+ qty2))\n    pass\n    \n   ",
  "script_type": "DocType Event"
 }
]